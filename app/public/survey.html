<!DOCTYPE html>
<html>
<head>
	<title>Friend Survey</title>
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
	 <script src="https://code.jquery.com/jquery.js"></script>

</head>
<body>
<h1> Survey Questions </h1>
<hr>
<form>
	<div class="form-group">
		<label for="name">Name (required)</label>
		<input type="name" class="form-control" id="friendName" placeholder="Name">
	</div>
	<div class="form-group">
		<label for="photoLink">Link to Photo Image (required)</label>
		<input type="link" class="form-control" id="photoLink">
	</div>
	<!-- <div class="form-group">
	<label for="exampleInputFile">File input</label>
	<input type="file" id="exampleInputFile">
	<p class="help-block">Example block-level help text here.</p>
	</div> -->
	<!-- <div class="checkbox">
	<label>
	  <input type="checkbox"> Check me out
	</label>
	</div> -->
	<div class ='form-group question'>
  		<h3>Question 1</h3>
		
		<select class="form-control" input type="dropdown" class="form-control" id="q1">>
			<option>1</option>
			<option>2</option>
			<option>3</option>
			<option>4</option>
			<option>5</option>	
		</select>
	</div>

	<div class ='form-group question'>
  		<h3>Question 2</h3>
		
		<select class="form-control" input type="dropdown" class="form-control" id="q2">>
			<option>1</option>
			<option>2</option>
			<option>3</option>
			<option>4</option>
			<option>5</option>	
		</select>
	</div>

	<div class ='form-group question'>
  		<h3>Question 3</h3>
		
		<select class="form-control" input type="dropdown" class="form-control" id="q3">>
			<option>1</option>
			<option>2</option>
			<option>3</option>
			<option>4</option>
			<option>5</option>	
		</select>
	</div>
	<div class ='form-group question'>
  		<h3>Question 4</h3>
		
		<select class="form-control" input type="dropdown" class="form-control" id="q4">>
			<option>1</option>
			<option>2</option>
			<option>3</option>
			<option>4</option>
			<option>5</option>	
		</select>
	</div>

	<div class ='form-group question'>
  		<h3>Question 5</h3>
		
		<select class="form-control" input type="dropdown" class="form-control" id="q5">>
			<option>1</option>
			<option>2</option>
			<option>3</option>
			<option>4</option>
			<option>5</option>	
		</select>
	</div>
	<div class ='form-group question'>
  		<h3>Question 6</h3>
		
		<select class="form-control" input type="dropdown" class="form-control" id="q6">>
			<option>1</option>
			<option>2</option>
			<option>3</option>
			<option>4</option>
			<option>5</option>	
		</select>
	</div>
	<div class ='form-group question'>
  		<h3>Question 7</h3>
		
		<select class="form-control" input type="dropdown" class="form-control" id="q7">>
			<option>1</option>
			<option>2</option>
			<option>3</option>
			<option>4</option>
			<option>5</option>	
		</select>
	</div>
	<div class ='form-group question'>
  		<h3>Question 8</h3>
		
		<select class="form-control" input type="dropdown" class="form-control" id="q8">>
			<option>1</option>
			<option>2</option>
			<option>3</option>
			<option>4</option>
			<option>5</option>	
		</select>
	</div>
	<div class ='form-group question'>
  		<h3>Question 9</h3>
		
		<select class="form-control" input type="dropdown" class="form-control" id="q9">>
			<option>1</option>
			<option>2</option>
			<option>3</option>
			<option>4</option>
			<option>5</option>	
		</select>
	</div>
	<div class ='form-group question'>
  		<h3>Question 10</h3>
		
		<select class="form-control" input type="dropdown" class="form-control" id="q10">>
			<option>1</option>
			<option>2</option>
			<option>3</option>
			<option>4</option>
			<option>5</option>	
		</select>
	</div>

  <button type="submit" class="btn btn-default" id="submit">Submit</button>
</form>

</body>
</html>
	 

<!-- BELOW CODE IS CRITICAL. IT HANDLES HOW FORM DATA IS SENT TO OUR SERVER -->
<script type="text/javascript">
 
    // In this code below we create the Front-end JavaScript which "POSTS" our form data to our express server.
    // In essence, when the user hits submit, jQuery grabs all of the fields then sends a post request to our api
    // Our api recognizes the route (/api/tables)... and then runs the associated code (found in api-routes.js).
    // In this case the associated code "saves" the data to the table-data.js file or waitinglist-data.js file
    $("#submit").on("click", function(event) {
      event.preventDefault();
      // Here we grab the form elements
      var newFriend = {
        friendName: $("#friendName").val().trim(),
        friendPic: $("#photoLink").val().trim(),
        q1: [$("#q1").val().trim(), $('#q2').val().trim(), $('#q3').val().trim(), $('#q4').val().trim(), $('#q5').val().trim(), $('#q6').val().trim(), $('#q7').val().trim(), $('#q8').val().trim(), $('#q9').val().trim(), $('#q10').val().trim()]
      };
      console.log(newFriend);
      // This line is the magic. It"s very similar to the standard ajax function we used.
      // Essentially we give it a URL, we give it the object we want to send, then we have a "callback".
      // The callback is the response of the server. In our case, we set up code in api-routes that "returns" true or false
      // depending on if a tables is available or not.
      $.post("/api/friends", newFriend,
        function(data) {

          console.log(data);
        });
    });
</script>
